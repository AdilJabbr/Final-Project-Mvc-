@using Service.DTOs.Admin.Products
    @model ProductEditVM

<div class="container-fluid " style="margin-top:150px; margin-left:300px;width:800px;">
    <form class="forms-sample" asp-action="Edit" enctype="multipart/form-data" method="post">
        <div class="form-group">
            <label for="sliderinfo">Title</label>
            <input asp-for="Name" class="form-control" id="name" maxlength="1000">
            <span class="text-danger" asp-validation-for="Name"></span>
            <label for="sliderinfo">Price</label>
            <input asp-for="Price" class="form-control" id="price" maxlength="1000">
            <span class="text-danger" asp-validation-for="Price"></span>
            <input asp-for="Description" class="form-control" id="description" maxlength="1000">
            <span class="text-danger" asp-validation-for="Description"></span>
            <input asp-for="Count" class="form-control" id="count" maxlength="1000">
            <span class="text-danger" asp-validation-for="Count"></span>



            <div class="form-group">
                <label asp-for="CategoryId"></label>
                <select asp-for="CategoryId" asp-items="Model.Categories" class="form-control">
                    <option value="">Choose category</option>
                </select>
            </div>
            <span asp-validation-for="CategoryId" class="text-danger"></span>

            <div class="form-group">
                <label asp-for="BrandId"></label>
                <select asp-for="BrandId" asp-items="Model.Brands" class="form-control">
                    <option value="">Choose brand</option>
                </select>
            </div>
            <span asp-validation-for="BrandId" class="text-danger"></span>


            <img src="@Model.ImageMain" width="150px" />
            <div class="input-group">
                <label class="input-group-text" for="inputGroupFile01">Upload</label>
                <input asp-for="MainImageUrl" type="file" class="form-control" id="inputGroupFile01" />
            </div>
            <span asp-validation-for="MainImageUrl" class="text-danger"></span>

            @foreach (var img in Model.imgUrl)
            {
                <img src="@img.ImageUrl" width=" 150px" />
            }

            <div class="input-group">
                <label class="input-group-text" for="inputGroupFile01">Upload</label>
                <input asp-for="ProductImages" type="file" class="form-control" id="inputGroupFile01" multiple />
            </div>
            <span asp-validation-for="ProductImages" class="text-danger"></span>
           
         @*    @{
                var categories = ViewBag.Categories as List<SelectListItem>;
                var Brands = ViewBag.Brands as List<SelectListItem>;

            }

            <div class="form-group">
                <label asp-for="CategoryId">Choose Category</label>
                @if (categories != null && categories.Any())
                {
                    <select asp-for="CategoryId" class="form-control" asp-items="categories"></select>
                }
                else
                {
                    <p>No categories available</p>
                }
                <span asp-validation-for="CategoryId" class="text-danger"></span>
            </div>

            @{
                var brands = ViewBag.Brands as List<SelectListItem>;
            }

            <div class="form-group">
                <label asp-for="BrandId">Choose brand</label>
                @if (brands != null && brands.Any())
                {
                    <select asp-for="BrandId" class="form-control" asp-items="brands"></select>
                }
                else
                {
                    <p>No brands available</p>
                }
                <span asp-validation-for="BrandId" class="text-danger"></span>
            </div>

            <div class="form-group">
                <label asp-for="ProductImages" class="control-label"></label>
                <input asp-for="ProductImages" type="file" multiple class="form-control" />
                <span asp-validation-for="ProductImages" class="text-danger"></span>
            </div> *@

          @*   <div class="form-group">
                <label>Product Images</label>
                <div class="row">
                    @for (int i = 0; i < Model.ProductImages.Count; i++)
                    {

                        <div class="col-md-3 text-center mb-3" id="image-@Model.ProductImages[i].Id">
                            <img src="~/img/@Model.ProductImages[i].Img" width="100" height="100" class="mb-2" />

                            <div class="form-check">
                                <input type="radio" name="MainImageId" value="@Model.ProductImages[i].Id"
                                       class="form-check-input" @(Model.ProductImages[i].IsMain ? "checked" : "") />
                                <label class="form-check-label">Main</label>
                            </div>

                            <a asp-action="DeleteImage"
                               asp-controller="Product"
                               asp-area="Admin"
                               asp-route-id="@Model.ProductImages[i].Id"
                               asp-route-productId="@Model.Id"
                               class="btn btn-danger btn-sm mt-2">
                                Delete
                            </a>
                        </div>



                    }
                </div>
            </div> *@

           @*  <div class="form-group mt-3">
                <label asp-for="ProductImages">Add More Images:</label>
                <input asp-for="ProductImages" type="file" class="form-control" multiple />
                <span class="text-danger" asp-validation-for="ProductImages"></span>
            </div> *@


        </div>

        <button type="submit" class="btn btn-primary me-2">Submit</button>
        <a asp-action="Index" class="btn btn-light">Cancel</a>
    </form>
</div>
